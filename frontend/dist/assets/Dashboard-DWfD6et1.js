import{r as A,c as O,o as he,a as ke,d as X,b as m,F as se,e as oe,f as I,g as e,t as g,n as z,h as u,w as re,i as be,T as Ne,j as ve,k as le,v as xe,l as Pe,m as W,p as te,u as j,q as Me,s as Le,x as je,y as de,z as De,A as Te,B as Fe}from"./index-CLsOCDdy.js";import{u as Be}from"./workflows-D0oeVPHr.js";import{u as Ue}from"./sessions-SEZFvufX.js";import{_ as ge}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as ze}from"./CouncilPatternSelector.vue_vue_type_script_setup_true_lang-CRaGi1j_.js";import{f as Ge}from"./format-sbWH3_uq.js";import"./client-wxXmKtvP.js";import"./index-B9ygI19o.js";function He(){const a=A(0);let n=null,t=null;const p=700,o=O(()=>a.value<p),s=O(()=>a.value>=p&&a.value<1024),i=O(()=>a.value>=1024),h=()=>{n&&clearTimeout(n),n=window.setTimeout(()=>{a.value=window.innerWidth},100)},k=l=>{a.value=window.innerWidth};return he(()=>{typeof window<"u"&&(a.value=window.innerWidth,t=window.matchMedia(`(max-width: ${p-1}px)`),t.addEventListener?t.addEventListener("change",k):t.addListener(k),window.addEventListener("resize",h))}),ke(()=>{n&&clearTimeout(n),t&&(t.removeEventListener?t.removeEventListener("change",k):t.removeListener(k)),typeof window<"u"&&window.removeEventListener("resize",h)}),{windowWidth:O(()=>a.value),isMobile:o,isTablet:s,isDesktop:i,MOBILE_BREAKPOINT:p}}const We={class:"bg-white dark:bg-gray-800 rounded-lg p-4 h-full overflow-y-auto space-y-3 border-2 border-gray-300 dark:border-gray-600"},qe={key:0,class:"p-3 rounded-lg bg-blue-50 dark:bg-blue-900/30"},Ve={class:"flex items-start justify-between"},Je={class:"flex items-start space-x-3 flex-1"},Ke={class:"flex-1"},Qe={key:0,class:"text-lg text-gray-800 dark:text-gray-100 whitespace-pre-wrap font-medium"},Ye={key:1,class:"space-y-2"},Xe={key:0,class:"text-lg text-gray-800 dark:text-gray-100 whitespace-pre-wrap font-medium"},Ze={key:1,class:"bg-gray-100 dark:bg-gray-900 p-2 rounded"},et={class:"text-sm text-gray-700 dark:text-gray-300 mt-1"},tt={key:2,class:"mt-2 text-xs text-gray-500 dark:text-gray-400"},st={class:"flex items-center space-x-1 ml-2"},ot=["onClick"],nt=["onClick"],rt={key:0,class:"mt-3 p-3 bg-gray-100 dark:bg-gray-900 rounded-lg"},at={class:"text-xs text-gray-700 dark:text-gray-300 overflow-x-auto"},lt={key:1,class:"p-3 rounded-lg bg-gray-50 dark:bg-gray-900/30"},it={class:"flex items-start justify-between"},dt={class:"flex items-start space-x-3 flex-1"},ct={class:"flex-1"},ut={key:0,class:"space-y-2"},mt={key:0,class:"text-lg text-gray-800 dark:text-gray-100 whitespace-pre-wrap font-medium"},pt={key:1,class:"bg-yellow-50 dark:bg-yellow-900/20 p-3 rounded border border-yellow-200 dark:border-yellow-800"},gt={class:"flex items-center space-x-2 mb-2"},vt={class:"font-semibold text-yellow-800 dark:text-yellow-200"},xt={class:"text-sm text-gray-700 dark:text-gray-300 overflow-x-auto"},ht={key:1,class:"mt-2 text-xs text-gray-500 dark:text-gray-400"},bt={key:2,class:"mt-1 text-xs text-gray-500 dark:text-gray-400"},ft={class:"flex items-center space-x-1 ml-2"},yt=["onClick"],wt=["onClick"],kt={key:0,class:"mt-3 p-3 bg-gray-100 dark:bg-gray-900 rounded-lg"},_t={class:"text-xs text-gray-700 dark:text-gray-300 overflow-x-auto"},$t={key:2,class:"p-3 rounded-lg bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800"},Tt={class:"flex items-start justify-between"},Ct={class:"flex items-start space-x-3 flex-1"},St={class:"flex-1"},Et={class:"text-lg text-gray-800 dark:text-gray-100 font-medium"},At={key:0,class:"mt-1 text-xs text-gray-500 dark:text-gray-400 font-mono"},It={key:1,class:"mt-1 text-xs text-gray-500 dark:text-gray-400"},Ot={class:"flex items-center space-x-1 ml-2"},Rt=["onClick"],Nt=["onClick"],Pt={key:0,class:"mt-3 p-3 bg-gray-100 dark:bg-gray-900 rounded-lg"},Mt={class:"text-xs text-gray-700 dark:text-gray-300 overflow-x-auto"},Lt={class:"flex items-start justify-between"},jt={class:"flex items-start space-x-3 flex-1"},Dt={class:"flex-1"},Ft={class:"text-lg text-gray-800 dark:text-gray-100 whitespace-pre-wrap font-medium"},Bt={class:"flex items-center space-x-1 ml-2"},Ut=["onClick"],zt=["onClick"],Gt={key:0,class:"mt-3 p-3 bg-gray-100 dark:bg-gray-900 rounded-lg"},Ht={class:"text-xs text-gray-700 dark:text-gray-300 overflow-x-auto"},Wt=X({__name:"ChatTranscript",props:{chat:{}},setup(a){const n=a,t=A(new Set),p=y=>{t.value.has(y)?t.value.delete(y):t.value.add(y),t.value=new Set(t.value)},o=y=>t.value.has(y),s=O(()=>(n.chat.length>0&&n.chat[0].type,n.chat)),i=y=>new Date(y).toLocaleTimeString(),h=y=>y.replace(/\u001b\[[0-9;]*m/g,""),k=y=>y.replace(/<command-message>.*?<\/command-message>/gs,"").replace(/<command-name>(.*?)<\/command-name>/gs,"$1").trim(),l=A(new Map),d=y=>l.value.get(y)||"ðŸ“‹",C=async(y,R)=>{const v=s.value[y];try{const w=JSON.stringify(v,null,2);await navigator.clipboard.writeText(w),l.value.set(y,"âœ…"),setTimeout(()=>{l.value.delete(y),l.value=new Map(l.value)},2e3)}catch(w){console.error("Failed to copy:",w),l.value.set(y,"âŒ"),setTimeout(()=>{l.value.delete(y),l.value=new Map(l.value)},2e3)}l.value=new Map(l.value)};return(y,R)=>(u(),m("div",We,[(u(!0),m(se,null,oe(s.value,(v,w)=>(u(),m("div",{key:w},[v.type==="user"&&v.message?(u(),m("div",qe,[e("div",Ve,[e("div",Je,[R[1]||(R[1]=e("span",{class:"text-lg font-semibold px-3 py-1 rounded-full flex-shrink-0 bg-blue-500 text-white"}," User ",-1)),e("div",Ke,[typeof v.message.content=="string"?(u(),m("p",Qe,g(v.message.content.includes("<command-")?k(v.message.content):v.message.content),1)):Array.isArray(v.message.content)?(u(),m("div",Ye,[(u(!0),m(se,null,oe(v.message.content,(E,P)=>(u(),m("div",{key:P},[E.type==="text"?(u(),m("p",Xe,g(E.text),1)):E.type==="tool_result"?(u(),m("div",Ze,[R[0]||(R[0]=e("span",{class:"text-sm font-mono text-gray-600 dark:text-gray-400"},"Tool Result:",-1)),e("pre",et,g(E.content),1)])):I("",!0)]))),128))])):I("",!0),v.timestamp?(u(),m("div",tt,g(i(v.timestamp)),1)):I("",!0)])]),e("div",st,[e("button",{onClick:E=>p(w),class:"px-2 py-1 text-xs font-medium text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 rounded transition-colors"},g(o(w)?"Hide":"Show")+" Details ",9,ot),e("button",{onClick:E=>C(w,v.type||v.role),class:"px-2 py-1 text-xs font-medium text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 rounded transition-colors flex items-center",title:"Copy message"},g(d(w)),9,nt)])]),o(w)?(u(),m("div",rt,[e("pre",at,g(JSON.stringify(v,null,2)),1)])):I("",!0)])):v.type==="assistant"&&v.message?(u(),m("div",lt,[e("div",it,[e("div",dt,[R[3]||(R[3]=e("span",{class:"text-lg font-semibold px-3 py-1 rounded-full flex-shrink-0 bg-gray-500 text-white"}," Assistant ",-1)),e("div",ct,[Array.isArray(v.message.content)?(u(),m("div",ut,[(u(!0),m(se,null,oe(v.message.content,(E,P)=>(u(),m("div",{key:P},[E.type==="text"?(u(),m("p",mt,g(E.text),1)):E.type==="tool_use"?(u(),m("div",pt,[e("div",gt,[R[2]||(R[2]=e("span",{class:"text-2xl"},"ðŸ”§",-1)),e("span",vt,g(E.name),1)]),e("pre",xt,g(JSON.stringify(E.input,null,2)),1)])):I("",!0)]))),128))])):I("",!0),v.message.usage?(u(),m("div",ht," Tokens: "+g(v.message.usage.input_tokens)+" in / "+g(v.message.usage.output_tokens)+" out ",1)):I("",!0),v.timestamp?(u(),m("div",bt,g(i(v.timestamp)),1)):I("",!0)])]),e("div",ft,[e("button",{onClick:E=>p(w),class:"px-2 py-1 text-xs font-medium text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 rounded transition-colors"},g(o(w)?"Hide":"Show")+" Details ",9,yt),e("button",{onClick:E=>C(w,v.type||v.role),class:"px-2 py-1 text-xs font-medium text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 rounded transition-colors flex items-center",title:"Copy message"},g(d(w)),9,wt)])]),o(w)?(u(),m("div",kt,[e("pre",_t,g(JSON.stringify(v,null,2)),1)])):I("",!0)])):v.type==="system"?(u(),m("div",$t,[e("div",Tt,[e("div",Ct,[R[4]||(R[4]=e("span",{class:"text-lg font-semibold px-3 py-1 rounded-full flex-shrink-0 bg-amber-600 text-white"}," System ",-1)),e("div",St,[e("p",Et,g(h(v.content||"")),1),v.toolUseID?(u(),m("div",At," Tool ID: "+g(v.toolUseID),1)):I("",!0),v.timestamp?(u(),m("div",It,g(i(v.timestamp)),1)):I("",!0)])]),e("div",Ot,[e("button",{onClick:E=>p(w),class:"px-2 py-1 text-xs font-medium text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 rounded transition-colors"},g(o(w)?"Hide":"Show")+" Details ",9,Rt),e("button",{onClick:E=>C(w,v.type||v.role),class:"px-2 py-1 text-xs font-medium text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 rounded transition-colors flex items-center",title:"Copy message"},g(d(w)),9,Nt)])]),o(w)?(u(),m("div",Pt,[e("pre",Mt,g(JSON.stringify(v,null,2)),1)])):I("",!0)])):v.role?(u(),m("div",{key:3,class:z(["p-3 rounded-lg",v.role==="user"?"bg-blue-50 dark:bg-blue-900/30":"bg-gray-50 dark:bg-gray-900/30"])},[e("div",Lt,[e("div",jt,[e("span",{class:z(["text-lg font-semibold px-3 py-1 rounded-full flex-shrink-0",v.role==="user"?"bg-blue-500 text-white":"bg-gray-500 text-white"])},g(v.role==="user"?"User":"Assistant"),3),e("div",Dt,[e("p",Ft,g(v.content),1)])]),e("div",Bt,[e("button",{onClick:E=>p(w),class:"px-2 py-1 text-xs font-medium text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 rounded transition-colors"},g(o(w)?"Hide":"Show")+" Details ",9,Ut),e("button",{onClick:E=>C(w,v.type||v.role),class:"px-2 py-1 text-xs font-medium text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 rounded transition-colors flex items-center",title:"Copy message"},g(d(w)),9,zt)])]),o(w)?(u(),m("div",Gt,[e("pre",Ht,g(JSON.stringify(v,null,2)),1)])):I("",!0)],2)):I("",!0)]))),128))]))}}),qt={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 mobile:p-0"},Vt={class:"flex-shrink-0 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-6 mobile:p-3"},Jt={class:"space-y-4"},Kt={class:"flex gap-2"},Qt={class:"relative flex-1"},Yt={class:"flex flex-wrap gap-2 mobile:gap-1 max-h-24 mobile:max-h-32 overflow-y-auto p-2 mobile:p-1 bg-gray-50 dark:bg-gray-900/50 rounded-lg mobile:overflow-x-auto mobile:pb-2"},Xt=["onClick"],Zt={class:"mr-1"},es={key:0,class:"text-sm mobile:text-xs text-gray-500 dark:text-gray-400"},ts={key:0,class:"ml-2 font-medium mobile:block mobile:ml-0 mobile:mt-1"},ss={class:"flex-1 p-6 mobile:p-3 overflow-hidden flex flex-col"},os=X({__name:"ChatTranscriptModal",props:{isOpen:{type:Boolean},chat:{}},emits:["close"],setup(a,{emit:n}){const t=a,p=n,o=A(""),s=A(""),i=A([]),h=A("ðŸ“‹ Copy All"),k=[{type:"user",label:"User",icon:"ðŸ‘¤"},{type:"assistant",label:"Assistant",icon:"ðŸ¤–"},{type:"system",label:"System",icon:"âš™ï¸"},{type:"tool_use",label:"Tool Use",icon:"ðŸ”§"},{type:"tool_result",label:"Tool Result",icon:"âœ…"},{type:"Read",label:"Read",icon:"ðŸ“„"},{type:"Write",label:"Write",icon:"âœï¸"},{type:"Edit",label:"Edit",icon:"âœï¸"},{type:"Glob",label:"Glob",icon:"ðŸ”Ž"}],l=x=>{const N=i.value.indexOf(x);N>-1?i.value.splice(N,1):i.value.push(x)},d=()=>{s.value=o.value},C=()=>{o.value="",s.value="",i.value=[]},y=()=>{p("close")},R=async()=>{try{const x=JSON.stringify(t.chat,null,2);await navigator.clipboard.writeText(x),h.value="âœ… Copied!",setTimeout(()=>{h.value="ðŸ“‹ Copy All"},2e3)}catch(x){console.error("Failed to copy all messages:",x),h.value="âŒ Failed",setTimeout(()=>{h.value="ðŸ“‹ Copy All"},2e3)}},v=(x,N)=>{const c=N.toLowerCase().trim();if(typeof x.content=="string"&&x.content.replace(/\u001b\[[0-9;]*m/g,"").toLowerCase().includes(c)||x.role&&x.role.toLowerCase().includes(c))return!0;if(x.message){if(x.message.role&&x.message.role.toLowerCase().includes(c))return!0;if(x.message.content){if(typeof x.message.content=="string"&&x.message.content.toLowerCase().includes(c))return!0;if(Array.isArray(x.message.content)){for(const $ of x.message.content)if($.text&&$.text.toLowerCase().includes(c)||$.name&&$.name.toLowerCase().includes(c)||$.input&&JSON.stringify($.input).toLowerCase().includes(c)||$.content&&typeof $.content=="string"&&$.content.toLowerCase().includes(c))return!0}}}return!!(x.type&&x.type.toLowerCase().includes(c)||x.uuid&&x.uuid.toLowerCase().includes(c)||x.sessionId&&x.sessionId.toLowerCase().includes(c)||x.toolUseResult&&JSON.stringify(x.toolUseResult).toLowerCase().includes(c))},w=x=>{var N,c,$;if(i.value.length===0||x.type&&i.value.includes(x.type)||x.role&&i.value.includes(x.role))return!0;if(x.type==="system"&&x.content){const G=(N=x.content.match(/([A-Za-z]+):/))==null?void 0:N[1];if(G&&i.value.includes(G)||x.content.includes("Running")&&i.value.includes("Running"))return!0;const q=["Read","Write","Edit","Glob"];for(const L of q)if(x.content.includes(L)&&i.value.includes(L))return!0}if((c=x.message)!=null&&c.content&&typeof x.message.content=="string"&&x.message.content.includes("<command-")&&i.value.includes("command")||x.isMeta&&i.value.includes("meta"))return!0;if(($=x.message)!=null&&$.content&&Array.isArray(x.message.content)){for(const G of x.message.content)if(G.type==="tool_use"&&(i.value.includes("tool_use")||G.name&&i.value.includes(G.name))||G.type==="tool_result"&&i.value.includes("tool_result"))return!0}return!1},E=O(()=>!s.value&&i.value.length===0?t.chat:t.chat.filter(x=>{const N=!s.value||v(x,s.value),c=w(x);return N&&c})),P=x=>{x.key==="Escape"&&t.isOpen&&y()};return he(()=>{document.addEventListener("keydown",P)}),ke(()=>{document.removeEventListener("keydown",P)}),re(()=>t.isOpen,x=>{x||C()}),(x,N)=>(u(),be(Ne,{to:"body"},[a.isOpen?(u(),m("div",qt,[e("div",{class:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:y}),e("div",{class:z(["relative bg-white dark:bg-gray-800 rounded-lg mobile:rounded-none shadow-xl flex flex-col overflow-hidden z-10 mobile:w-full mobile:h-full mobile:fixed mobile:inset-0",{"mobile:!w-full mobile:!h-full":!0}]),style:{width:"85vw",height:"85vh"},onClick:N[1]||(N[1]=ve(()=>{},["stop"]))},[e("div",Vt,[e("div",{class:"flex items-center justify-between mb-4 mobile:mb-2"},[N[3]||(N[3]=e("h2",{class:"text-3xl mobile:text-lg font-semibold text-gray-900 dark:text-white"}," ðŸ’¬ Chat Transcript ",-1)),e("button",{onClick:y,class:"p-2 mobile:p-3 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors min-w-[44px] min-h-[44px] flex items-center justify-center"},[...N[2]||(N[2]=[e("svg",{class:"w-6 h-6 mobile:w-5 mobile:h-5 text-gray-500 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("div",Jt,[e("div",Kt,[e("div",Qt,[le(e("input",{"onUpdate:modelValue":N[0]||(N[0]=c=>o.value=c),onKeyup:Pe(d,["enter"]),type:"text",placeholder:"Search transcript...",class:"w-full px-4 py-2 mobile:px-3 mobile:py-2 pl-10 mobile:pl-8 text-lg mobile:text-base border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"},null,544),[[xe,o.value]]),N[4]||(N[4]=e("svg",{class:"absolute left-3 top-3 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1))]),e("button",{onClick:d,class:"px-4 py-2 mobile:px-3 mobile:py-2 bg-blue-500 hover:bg-blue-600 text-white font-medium rounded-lg transition-colors text-base mobile:text-sm min-w-[44px] min-h-[44px] flex items-center justify-center"}," Search "),e("button",{onClick:R,class:"px-4 py-2 mobile:px-3 mobile:py-2 bg-gray-500 hover:bg-gray-600 text-white font-medium rounded-lg transition-colors text-base mobile:text-sm min-w-[44px] min-h-[44px] flex items-center justify-center",title:"Copy all messages as JSON"},g(h.value),1)]),e("div",Yt,[(u(),m(se,null,oe(k,c=>e("button",{key:c.type,onClick:$=>l(c.type),class:z(["px-4 py-2 mobile:px-3 mobile:py-1.5 rounded-full text-sm mobile:text-xs font-medium transition-colors min-h-[44px] mobile:min-h-[36px] flex items-center whitespace-nowrap",i.value.includes(c.type)?"bg-blue-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"])},[e("span",Zt,g(c.icon),1),W(" "+g(c.label),1)],10,Xt)),64)),o.value||s.value||i.value.length>0?(u(),m("button",{key:0,onClick:C,class:"px-4 py-2 mobile:px-3 mobile:py-1.5 rounded-full text-sm mobile:text-xs font-medium bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 hover:bg-red-200 dark:hover:bg-red-900/50 min-h-[44px] mobile:min-h-[36px] flex items-center whitespace-nowrap"}," Clear All ")):I("",!0)]),s.value||i.value.length>0?(u(),m("div",es,[W(" Showing "+g(E.value.length)+" of "+g(a.chat.length)+" messages ",1),s.value?(u(),m("span",ts,' (searching for "'+g(s.value)+'") ',1)):I("",!0)])):I("",!0)])]),e("div",ss,[te(Wt,{chat:E.value},null,8,["chat"])])])])):I("",!0)]))}}),ns={class:"mb-3"},rs={class:"flex items-center justify-between mb-2"},as={class:"flex items-center space-x-2"},ls={class:"text-2xl"},is={key:0,class:"text-xs font-mono font-bold px-2 py-1 rounded border bg-blue-900/30 border-blue-500 text-blue-300"},ds={class:"w-32 flex-shrink-0 flex flex-col items-end pr-3 relative"},cs={class:"mt-2 relative z-10"},us={key:1,class:"h-4 block"},ms={class:"text-[9px] font-mono text-slate-600 mt-0.5"},ps={class:"w-40 flex-shrink-0 p-2 pt-2.5"},gs={class:"flex items-center gap-2"},vs={class:"flex-1 p-2 pt-2 min-w-0"},xs={key:0,class:"mb-1"},hs={class:"flex items-center gap-2 mb-1"},bs={class:"text-xs font-bold text-amber-200 font-mono"},fs={class:"text-xs text-slate-400 font-mono bg-[#0f172a] p-1.5 rounded border border-slate-800 truncate"},ys={key:1,class:"text-xs text-slate-300 leading-relaxed font-mono"},ws={key:0,class:"whitespace-pre-wrap line-clamp-2"},ks={key:1,class:"italic text-slate-600"},_s={class:"w-16 flex-shrink-0 p-2 pt-2.5 text-right"},$s={class:"text-[10px] font-mono text-slate-600 group-hover:text-slate-500"},Ts={key:1,class:"mt-3 pt-3 border-t border-[var(--theme-border-primary)] space-y-3 animate-in fade-in slide-in-from-top-1 duration-200"},Cs={class:"rounded-md overflow-hidden border border-[var(--theme-border-primary)] bg-[#0d1117]"},Ss={class:"flex items-center justify-between px-3 py-1.5 bg-[var(--theme-bg-tertiary)] border-b border-[var(--theme-border-primary)]"},Es={class:"p-3 text-xs font-mono text-[var(--theme-text-primary)] overflow-x-auto custom-scrollbar"},As={key:0,class:"flex justify-end"},Is=["disabled"],Os=X({__name:"EventRow",props:{event:{},isSelected:{type:Boolean},appHexColor:{}},emits:["response-submitted","select-event"],setup(a,{emit:n}){const t=a,p=A(!1),o=A(!1),s=A("ðŸ“‹");A(""),A(!1);const i=A(!1);A(null);const{isMobile:h}=He(),k=O(()=>t.event.session_id.slice(0,8)),l=c=>c?c==="PostToolUse"?"RESPONSE":c==="PreToolUse"?"HOOK":c==="UserPromptSubmit"?"PROMPT":c.toUpperCase():"EVENT",d=c=>{switch(c){case"PostToolUse":return"bg-emerald-500/10 text-emerald-400 border-emerald-500/30";case"PreToolUse":return"bg-teal-500/10 text-teal-400 border-teal-500/30";case"UserPromptSubmit":return"bg-blue-500/10 text-blue-400 border-blue-500/30";case"Stop":return"bg-red-500/10 text-red-400 border-red-500/30";default:return"bg-slate-700/50 text-slate-400 border-slate-600"}},C=c=>c==="qa-agent"?"bg-purple-500 shadow-[0_0_8px] shadow-purple-500/50":c!=null&&c.includes("frontend")?"bg-blue-400 shadow-[0_0_8px] shadow-blue-400/50":c!=null&&c.includes("backend")?"bg-amber-400 shadow-[0_0_8px] shadow-amber-400/50":"bg-slate-400";O(()=>({PreToolUse:"ðŸ”§",PostToolUse:"âœ…",Notification:"ðŸ””",Stop:"ðŸ›‘",SubagentStop:"ðŸ‘¥",PreCompact:"ðŸ“¦",UserPromptSubmit:"ðŸ’¬",SessionStart:"ðŸš€",SessionEnd:"ðŸ",TodoWrite:"ðŸ“",Write:"ðŸ’¾"})[t.event.hook_event_type]||"â“");const y=O(()=>JSON.stringify(t.event.payload,null,2)),R=O(()=>{const c=t.event.payload;if(t.event.hook_event_type==="UserPromptSubmit"&&c.prompt)return{tool:"Prompt",detail:c.prompt};if(c.tool_name){let $="";return c.tool_input&&($=c.tool_input.command||c.tool_input.file_path||c.tool_input.pattern||JSON.stringify(c.tool_input)),{tool:c.tool_name,detail:$}}return null}),v=c=>c?new Date(c).toLocaleTimeString():"",w=O(()=>t.event.summary||""),E=async()=>{try{await navigator.clipboard.writeText(y.value),s.value="âœ…",setTimeout(()=>s.value="ðŸ“‹",2e3)}catch(c){console.error("Failed copy",c),s.value="âŒ"}},P=O(()=>"â“"),x=O(()=>"HITL"),N=O(()=>null);return(c,$)=>{var G,q,L;return u(),m(se,null,[e("div",null,[a.event.humanInTheLoop&&(((G=a.event.humanInTheLoopStatus)==null?void 0:G.status)==="pending"||i.value)?(u(),m("div",{key:0,class:z(["mb-4 p-4 rounded-lg border shadow-lg bg-[var(--theme-bg-secondary)]",i.value||((q=a.event.humanInTheLoopStatus)==null?void 0:q.status)==="responded"?"border-green-500/50":"border-yellow-500/50 animate-pulse-slow"]),onClick:$[0]||($[0]=ve(()=>{},["stop"]))},[e("div",ns,[e("div",rs,[e("div",as,[e("span",ls,g(P.value),1),e("h3",{class:z(["text-lg font-bold",i.value||((L=a.event.humanInTheLoopStatus)==null?void 0:L.status)==="responded"?"text-green-400":"text-yellow-400"])},g(x.value),3),N.value?(u(),m("span",is,g(N.value),1)):I("",!0)])])])],2)):I("",!0),e("div",{class:z(["flex w-full group transition-colors duration-150 hover:bg-slate-800/20 cursor-pointer",{"bg-[#1e293b]/50":a.isSelected}]),onClick:$[1]||($[1]=H=>c.$emit("select-event",a.event))},[e("div",ds,[$[4]||($[4]=e("div",{class:"absolute right-0 top-0 bottom-0 w-px bg-slate-800 group-hover:bg-slate-700"},null,-1)),e("div",cs,[a.event.hook_event_type?(u(),m("span",{key:0,class:z(["px-1.5 py-0.5 rounded text-[9px] font-bold uppercase tracking-wider border mb-1 block text-right w-fit ml-auto",d(a.event.hook_event_type)])},g(l(a.event.hook_event_type)),3)):(u(),m("span",us))]),e("div",ms,g(k.value),1)]),e("div",ps,[e("div",gs,[e("div",{class:z(["w-1.5 h-1.5 rounded-full",C(a.event.source_app)])},null,2),e("span",{class:z(["text-xs font-bold text-slate-300 truncate font-mono",{"text-emerald-400":a.event.source_app==="qa-agent"}])},g(a.event.source_app),3)])]),e("div",vs,[R.value?(u(),m("div",xs,[e("div",hs,[$[5]||($[5]=e("span",{class:"text-[10px] uppercase font-bold text-amber-500 tracking-wide"},"TOOL:",-1)),e("span",bs,g(R.value.tool),1)]),e("div",fs,g(R.value.detail),1)])):(u(),m("div",ys,[w.value?(u(),m("span",ws,g(w.value),1)):(u(),m("span",ks,"No content"))]))]),e("div",_s,[e("span",$s,g(v(a.event.timestamp)),1)])],2),p.value?(u(),m("div",Ts,[e("div",Cs,[e("div",Ss,[$[6]||($[6]=e("span",{class:"text-xs font-bold text-[var(--theme-text-secondary)] uppercase tracking-wider"},"Payload",-1)),e("button",{onClick:ve(E,["stop"]),class:"text-xs text-[var(--theme-text-tertiary)] hover:text-[var(--theme-primary)] transition-colors"},g(s.value),1)]),e("pre",Es,g(y.value),1)]),a.event.chat&&a.event.chat.length>0?(u(),m("div",As,[e("button",{onClick:$[2]||($[2]=ve(H=>!j(h)&&(o.value=!0),["stop"])),class:"px-3 py-1.5 rounded text-xs font-bold bg-[var(--theme-primary)] text-white hover:bg-[var(--theme-primary-hover)] transition-colors shadow-sm cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed",disabled:j(h)}," ðŸ’¬ View Transcript ("+g(a.event.chat.length)+") ",9,Is)])):I("",!0)])):I("",!0)]),a.event.chat&&a.event.chat.length>0?(u(),be(os,{key:0,"is-open":o.value,chat:a.event.chat,onClose:$[3]||($[3]=H=>o.value=!1)},null,8,["is-open","chat"])):I("",!0)],64)}}}),Rs=ge(Os,[["__scopeId","data-v-aa7c8b78"]]);function Ee(){const a=["bg-blue-500","bg-green-500","bg-yellow-500","bg-purple-500","bg-pink-500","bg-indigo-500","bg-red-500","bg-orange-500","bg-teal-500","bg-cyan-500"],n=l=>{let d=7151;for(let C=0;C<l.length;C++)d=(d<<5)+d+l.charCodeAt(C);return Math.abs(d>>>0)},t=l=>{const C=n(l)%a.length;return a[C]},p=l=>{const C=n(l)%a.length;return a[C]},o=l=>{const d=t(l);return`bg-gradient-to-r ${{"bg-blue-500":"from-blue-500 to-blue-600","bg-green-500":"from-green-500 to-green-600","bg-yellow-500":"from-yellow-500 to-yellow-600","bg-purple-500":"from-purple-500 to-purple-600","bg-pink-500":"from-pink-500 to-pink-600","bg-indigo-500":"from-indigo-500 to-indigo-600","bg-red-500":"from-red-500 to-red-600","bg-orange-500":"from-orange-500 to-orange-600","bg-teal-500":"from-teal-500 to-teal-600","bg-cyan-500":"from-cyan-500 to-cyan-600"}[d]||"from-gray-500 to-gray-600"}`},s=l=>{const d=p(l);return`bg-gradient-to-r ${{"bg-blue-500":"from-blue-500 to-blue-600","bg-green-500":"from-green-500 to-green-600","bg-yellow-500":"from-yellow-500 to-yellow-600","bg-purple-500":"from-purple-500 to-purple-600","bg-pink-500":"from-pink-500 to-pink-600","bg-indigo-500":"from-indigo-500 to-indigo-600","bg-red-500":"from-red-500 to-red-600","bg-orange-500":"from-orange-500 to-orange-600","bg-teal-500":"from-teal-500 to-teal-600","bg-cyan-500":"from-cyan-500 to-cyan-600"}[d]||"from-gray-500 to-gray-600"}`},i=l=>({"bg-blue-500":"#3B82F6","bg-green-500":"#22C55E","bg-yellow-500":"#EAB308","bg-purple-500":"#A855F7","bg-pink-500":"#EC4899","bg-indigo-500":"#6366F1","bg-red-500":"#EF4444","bg-orange-500":"#F97316","bg-teal-500":"#14B8A6","bg-cyan-500":"#06B6D4"})[l]||"#3B82F6";return{getColorForSession:t,getColorForApp:p,getGradientForSession:o,getGradientForApp:s,getHexColorForSession:l=>{const d=t(l);return i(d)},getHexColorForApp:l=>`hsl(${n(l)%360}, 70%, 50%)`}}function Ns(){const a=A(""),n=A(""),t=l=>{if(!l||l.trim()==="")return{valid:!0};try{return new RegExp(l),{valid:!0}}catch(d){return{valid:!1,error:d instanceof Error?d.message:"Invalid regex pattern"}}},p=l=>{const d=[];return l.hook_event_type&&d.push(l.hook_event_type),l.source_app&&d.push(l.source_app),l.session_id&&d.push(l.session_id),l.model&&d.push(l.model),l.tool_name&&d.push(l.tool_name),l.tool_command&&d.push(l.tool_command),l.tool_file&&l.tool_file.path&&d.push(l.tool_file.path),l.summary&&d.push(l.summary),l.hitl_question&&d.push(l.hitl_question),l.hitl_permission&&d.push(l.hitl_permission),d.join(" ").toLowerCase()},o=(l,d)=>{if(!d||d.trim()==="")return!0;if(!t(d).valid)return!1;try{const y=new RegExp(d,"i"),R=p(l);return y.test(R)}catch{return!1}},s=(l,d)=>!d||d.trim()===""?l:l.filter(C=>o(C,d)),i=O(()=>n.value.length>0);return{searchPattern:a,searchError:n,hasError:i,validateRegex:t,matchesPattern:o,searchEvents:s,updateSearchPattern:l=>{if(a.value=l,!l||l.trim()===""){n.value="";return}const d=t(l);d.valid?n.value="":n.value=d.error||"Invalid regex pattern"},clearSearch:()=>{a.value="",n.value=""},getSearchableText:p}}const Ps={class:"flex-1 mobile:h-[50vh] overflow-hidden flex flex-col"},Ms={key:0,class:"text-center py-8 mobile:py-6 text-[var(--theme-text-tertiary)]"},Ls=X({__name:"EventTimeline",props:{events:{},filters:{},stickToBottom:{type:Boolean},searchQuery:{},uniqueAppNames:{},allAppNames:{}},emits:["update:stickToBottom","selectAgent"],setup(a,{emit:n}){const t=a,p=n,o=A(),{getGradientForSession:s,getColorForSession:i,getGradientForApp:h,getColorForApp:k,getHexColorForApp:l}=Ee(),{searchPattern:d,searchEvents:C}=Ns();O(()=>{var w;return(w=t.allAppNames)!=null&&w.length?t.allAppNames:t.uniqueAppNames||[]});const y=O(()=>{let w=t.events.filter(P=>!(t.filters.sourceApp&&P.source_app!==t.filters.sourceApp||t.filters.sessionId&&P.session_id!==t.filters.sessionId||t.filters.eventType&&P.hook_event_type!==t.filters.eventType));const E=t.searchQuery||d.value;return E&&(w=C(w,E)),w}),R=()=>{o.value&&(o.value.scrollTop=o.value.scrollHeight)},v=()=>{if(!o.value)return;const{scrollTop:w,scrollHeight:E,clientHeight:P}=o.value,x=E-w-P<50;x!==t.stickToBottom&&p("update:stickToBottom",x)};return re(()=>t.events.length,async()=>{t.stickToBottom&&(await je(),R())}),re(()=>t.stickToBottom,w=>{w&&R()}),(w,E)=>(u(),m("div",Ps,[e("div",{ref_key:"scrollContainer",ref:o,class:"flex-1 overflow-y-auto px-3 py-3 mobile:px-2 mobile:py-1.5 relative",onScroll:v},[te(Me,{name:"event",tag:"div",class:"space-y-2 mobile:space-y-1.5"},{default:Le(()=>[(u(!0),m(se,null,oe(y.value,P=>(u(),be(Rs,{key:`${P.id}-${P.timestamp}`,event:P,"gradient-class":j(s)(P.session_id),"color-class":j(i)(P.session_id),"app-gradient-class":j(h)(P.source_app),"app-color-class":j(k)(P.source_app),"app-hex-color":j(l)(P.source_app)},null,8,["event","gradient-class","color-class","app-gradient-class","app-color-class","app-hex-color"]))),128))]),_:1}),y.value.length===0?(u(),m("div",Ms,[...E[0]||(E[0]=[e("div",{class:"text-4xl mobile:text-3xl mb-3"},"ðŸ”³",-1),e("p",{class:"text-lg mobile:text-base font-semibold text-[var(--theme-primary)] mb-1.5"},"No events to display",-1),e("p",{class:"text-base mobile:text-sm"},"Events will appear here as they are received",-1)])])):I("",!0)],544)]))}}),js=ge(Ls,[["__scopeId","data-v-9b097488"]]),Ds=["title"],Fs={class:"w-6 h-6 mobile:w-5 mobile:h-5 drop-shadow-sm",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Bs={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 14l-7 7m0 0l-7-7m7 7V3"},Us={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6v.01"},zs=X({__name:"StickScrollButton",props:{stickToBottom:{type:Boolean}},emits:["toggle"],setup(a){return(n,t)=>(u(),m("button",{onClick:t[0]||(t[0]=p=>n.$emit("toggle")),class:z(["fixed bottom-6 right-6 mobile:bottom-4 mobile:right-4 p-4 mobile:p-3 rounded-full shadow-lg hover:shadow-xl transition-all duration-200 min-w-[44px] min-h-[44px] flex items-center justify-center border-2 transform hover:scale-110",[a.stickToBottom?"bg-gradient-to-r from-[var(--theme-primary)] to-[var(--theme-primary-light)] text-white border-[var(--theme-primary-dark)] drop-shadow-md":"bg-[var(--theme-bg-primary)] hover:bg-[var(--theme-bg-secondary)] text-[var(--theme-text-primary)] border-[var(--theme-border-primary)] hover:border-[var(--theme-primary)]"]]),title:a.stickToBottom?"Disable auto-scroll":"Enable auto-scroll"},[(u(),m("svg",Fs,[a.stickToBottom?(u(),m("path",Bs)):(u(),m("path",Us))]))],10,Ds))}});function Gs(a){const n=A("1m"),t=A([]),o=a?(M=>{const S=M.split(":");return S.length===2?{app:S[0],session:S[1]}:null})(a):null,s=A([]);let i=[],h=null;const k=50,l={"1m":{duration:60*1e3,bucketSize:1e3,maxPoints:60},"3m":{duration:3*60*1e3,bucketSize:3e3,maxPoints:60},"5m":{duration:5*60*1e3,bucketSize:5e3,maxPoints:60},"10m":{duration:10*60*1e3,bucketSize:1e4,maxPoints:60}},d=O(()=>l[n.value]),C=M=>{const S=d.value;return Math.floor(M/S.bucketSize)*S.bucketSize},y=()=>{const M=[...i];i=[],s.value.push(...M),M.forEach(S=>{if(!S.timestamp||o&&(S.source_app!==o.app||S.session_id.slice(0,8)!==o.session))return;const D=C(S.timestamp);let b=t.value.find(r=>r.timestamp===D);b?(b.count++,b.eventTypes||(b.eventTypes={}),b.eventTypes[S.hook_event_type]=(b.eventTypes[S.hook_event_type]||0)+1,b.sessions||(b.sessions={}),b.sessions[S.session_id]=(b.sessions[S.session_id]||0)+1):t.value.push({timestamp:D,count:1,eventTypes:{[S.hook_event_type]:1},sessions:{[S.session_id]:1}})}),v(),w()},R=M=>{i.push(M),h!==null&&clearTimeout(h),h=window.setTimeout(()=>{y(),h=null},k)},v=()=>{const S=Date.now()-d.value.duration;t.value=t.value.filter(D=>D.timestamp>=S),t.value.length>d.value.maxPoints&&(t.value=t.value.slice(-d.value.maxPoints))},w=()=>{const S=Date.now()-5*60*1e3;s.value=s.value.filter(D=>D.timestamp&&D.timestamp>=S)},E=()=>{const M=Date.now(),S=d.value,D=M-S.duration,b=[];for(let r=D;r<=M;r+=S.bucketSize){const _=C(r),B=t.value.find(K=>K.timestamp===_);b.push({timestamp:_,count:(B==null?void 0:B.count)||0,eventTypes:(B==null?void 0:B.eventTypes)||{},sessions:(B==null?void 0:B.sessions)||{}})}return b.slice(-S.maxPoints)},P=M=>{n.value=M,x()},x=()=>{t.value=[];const S=Date.now()-d.value.duration;let D=s.value.filter(b=>b.timestamp&&b.timestamp>=S);o&&(D=D.filter(b=>b.source_app===o.app&&b.session_id.slice(0,8)===o.session)),D.forEach(b=>{if(!b.timestamp)return;const r=C(b.timestamp);let _=t.value.find(B=>B.timestamp===r);_?(_.count++,_.eventTypes||(_.eventTypes={}),_.eventTypes[b.hook_event_type]=(_.eventTypes[b.hook_event_type]||0)+1,_.sessions||(_.sessions={}),_.sessions[b.session_id]=(_.sessions[b.session_id]||0)+1):t.value.push({timestamp:r,count:1,eventTypes:{[b.hook_event_type]:1},sessions:{[b.session_id]:1}})}),v()},N=setInterval(()=>{v(),w()},1e3),c=()=>{clearInterval(N),h!==null&&(clearTimeout(h),y())},$=()=>{t.value=[],s.value=[],i=[],h!==null&&(clearTimeout(h),h=null)},G=(M,S)=>`${M}:${S.slice(0,8)}`,q=O(()=>{const M=Date.now(),S=d.value,D=M-S.duration,b=new Set;return s.value.forEach(r=>{if(r.timestamp&&r.timestamp>=D){const _=G(r.source_app,r.session_id);b.add(_)}}),Array.from(b)}),L=O(()=>{const M=new Set;return s.value.forEach(S=>{const D=G(S.source_app,S.session_id);M.add(D)}),Array.from(M)}),H=O(()=>q.value.length),Q=O(()=>t.value.reduce((M,S)=>{var D;return M+(((D=S.eventTypes)==null?void 0:D.PreToolUse)||0)},0)),Z=O(()=>{const M=Date.now(),S=d.value,D=M-S.duration,b=s.value.filter(Y=>Y.timestamp&&Y.timestamp>=D),r=b.length,_=S.duration/1e3,B=r/_,K=t.value.filter(Y=>Y.timestamp>=D),ce=K.length>0?Math.max(...K.map(Y=>Y.count)):0,fe=S.bucketSize/1e3,_e=ce/fe;let ue=0;if(b.length>=2){const Y=[...b].sort((T,f)=>(T.timestamp||0)-(f.timestamp||0)),ne=[];for(let T=1;T<Y.length;T++){const f=(Y[T].timestamp||0)-(Y[T-1].timestamp||0);f>0&&ne.push(f)}ne.length>0&&(ue=ne.reduce((T,f)=>T+f,0)/ne.length)}return{eventsPerSecond:B,peakEventsPerSecond:_e,avgTimeBetweenEvents:ue,minGap:0,maxGap:0,avgGap:ue}});return{timeRange:n,dataPoints:t,addEvent:R,getChartData:E,setTimeRange:P,cleanup:c,clearData:$,currentConfig:d,uniqueAgentCount:H,uniqueAgentIdsInWindow:q,allUniqueAgentIds:L,toolCallCount:Q,eventTimingMetrics:Z}}function Hs(a){return Gs(a)}class Ws{constructor(n,t,p){this.animationId=null;const o=n.getContext("2d");if(!o)throw new Error("Failed to get canvas context");this.ctx=o,this.dimensions=t,this.config=p,this.setupCanvas(n)}setupCanvas(n){const t=window.devicePixelRatio||1;n.width=this.dimensions.width*t,n.height=this.dimensions.height*t,n.style.width=`${this.dimensions.width}px`,n.style.height=`${this.dimensions.height}px`,this.ctx.scale(t,t)}getChartArea(){const{width:n,height:t,padding:p}=this.dimensions;return{x:p.left,y:p.top,width:n-p.left-p.right,height:t-p.top-p.bottom}}clear(){this.ctx.clearRect(0,0,this.dimensions.width,this.dimensions.height)}drawBackground(){const n=this.getChartArea(),t=this.ctx.createLinearGradient(n.x,n.y,n.x,n.y+n.height);t.addColorStop(0,"rgba(0, 0, 0, 0.02)"),t.addColorStop(1,"rgba(0, 0, 0, 0.05)"),this.ctx.fillStyle=t,this.ctx.fillRect(n.x,n.y,n.width,n.height)}drawAxes(){const n=this.getChartArea();this.ctx.strokeStyle=this.config.colors.axis,this.ctx.lineWidth=1,this.ctx.beginPath(),this.ctx.moveTo(n.x,n.y+n.height),this.ctx.lineTo(n.x+n.width,n.y+n.height),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(n.x,n.y),this.ctx.lineTo(n.x,n.y+n.height),this.ctx.stroke()}drawTimeLabels(n){const t=this.getChartArea();this.ctx.fillStyle=this.config.colors.text,this.ctx.font="11px system-ui, -apple-system, sans-serif",this.ctx.textAlign="center",this.ctx.textBaseline="top";const p=this.getTimeLabels(n),o=t.width/(p.length-1);p.forEach((s,i)=>{const h=t.x+i*o,k=t.y+t.height+5;this.ctx.fillText(s,h,k)})}getTimeLabels(n){switch(n){case"1m":return["60s","45s","30s","15s","now"];case"3m":return["3m","2m","1m","now"];case"5m":return["5m","4m","3m","2m","1m","now"];case"10m":return["10m","8m","6m","4m","2m","now"];default:return[]}}drawBars(n,t,p=1,o,s){const i=this.getChartArea(),h=this.config.maxDataPoints,k=i.width/h,l=this.config.barWidth;n.forEach((d,C)=>{if(d.count===0)return;const y=i.x+C*k+(k-l)/2,R=d.count/t*i.height*p,v=i.y+i.height-R;let w=this.config.colors.primary;if(s&&d.sessions&&Object.keys(d.sessions).length>0){const P=Object.entries(d.sessions).sort((x,N)=>N[1]-x[1])[0][0];w=s(P)}this.drawBarGlow(y,v,l,R,d.count/t,w),this.ctx.save(),this.ctx.beginPath(),this.ctx.moveTo(y,v+2),this.ctx.lineTo(y,v+R),this.ctx.lineTo(y+l,v+R),this.ctx.lineTo(y+l,v+2),this.ctx.arcTo(y+l,v,y+l/2,v,2),this.ctx.arcTo(y,v,y,v+2,2),this.ctx.closePath();const E=this.ctx.createLinearGradient(y,v,y,v+R);if(E.addColorStop(0,this.adjustColorOpacity(w,.9)),E.addColorStop(.5,w),E.addColorStop(1,this.adjustColorOpacity(w,.7)),this.ctx.fillStyle=E,this.ctx.fill(),this.ctx.restore(),o&&d.eventTypes&&Object.keys(d.eventTypes).length>0&&R>10){const P=o(d.eventTypes);if(P){this.ctx.save(),this.ctx.font='20px -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Apple Color Emoji", "Segoe UI Emoji", sans-serif';const x=this.ctx.measureText(P),N=8,c=x.width+N*2,$=30,G=y+l/2,q=v+R/2,L=G-c/2,H=q-$/2,Q=document.documentElement.classList.contains("dark");this.ctx.fillStyle=Q?"rgba(75, 85, 99, 0.95)":"rgba(0, 0, 0, 0.85)",this.ctx.beginPath(),"roundRect"in this.ctx&&typeof this.ctx.roundRect=="function"?this.ctx.roundRect(L,H,c,$,7):(this.ctx.moveTo(L+7,H),this.ctx.lineTo(L+c-7,H),this.ctx.arcTo(L+c,H,L+c,H+7,7),this.ctx.lineTo(L+c,H+$-7),this.ctx.arcTo(L+c,H+$,L+c-7,H+$,7),this.ctx.lineTo(L+7,H+$),this.ctx.arcTo(L,H+$,L,H+$-7,7),this.ctx.lineTo(L,H+7),this.ctx.arcTo(L,H,L+7,H,7),this.ctx.closePath()),this.ctx.fill(),this.ctx.fillStyle="#ffffff",this.ctx.textAlign="left",this.ctx.textBaseline="middle";const Z=L+N,M=q;this.ctx.fillText(P,Z,M),this.ctx.restore()}}})}drawBarGlow(n,t,p,o,s,i){const h=10+s*20,k=n+p/2,l=t+o/2,d=i||this.config.colors.glow,C=this.ctx.createRadialGradient(k,l,0,k,l,h);C.addColorStop(0,this.adjustColorOpacity(d,.3*s)),C.addColorStop(1,"transparent"),this.ctx.fillStyle=C,this.ctx.fillRect(k-h,l-h,h*2,h*2)}adjustColorOpacity(n,t){if(n.startsWith("#")){const p=parseInt(n.slice(1,3),16),o=parseInt(n.slice(3,5),16),s=parseInt(n.slice(5,7),16);return`rgba(${p}, ${o}, ${s}, ${t})`}return n}drawPulseEffect(n,t,p,o){const s=this.ctx.createRadialGradient(n,t,0,n,t,p);s.addColorStop(0,this.adjustColorOpacity(this.config.colors.primary,o)),s.addColorStop(.5,this.adjustColorOpacity(this.config.colors.primary,o*.5)),s.addColorStop(1,"transparent"),this.ctx.fillStyle=s,this.ctx.beginPath(),this.ctx.arc(n,t,p,0,Math.PI*2),this.ctx.fill()}animate(n){const t=performance.now(),p=o=>{const s=o-t,i=Math.min(s/this.config.animationDuration,1);n(this.easeOut(i)),i<1?this.animationId=requestAnimationFrame(p):this.animationId=null};this.animationId=requestAnimationFrame(p)}easeOut(n){return 1-Math.pow(1-n,3)}stopAnimation(){this.animationId&&(cancelAnimationFrame(this.animationId),this.animationId=null)}resize(n){this.dimensions=n,this.setupCanvas(this.ctx.canvas)}}function qs(a,n,t){return new Ws(a,n,t)}const Ce={PreToolUse:"ðŸ”§",PostToolUse:"âœ…",Notification:"ðŸ””",Stop:"ðŸ›‘",SubagentStop:"ðŸ‘¥",PreCompact:"ðŸ“¦",UserPromptSubmit:"ðŸ’¬",SessionStart:"ðŸš€",SessionEnd:"ðŸ",default:"â“"};function Vs(){const a=t=>Ce[t]||Ce.default;return{getEmojiForEventType:a,formatEventTypeLabel:t=>{const p=Object.entries(t).sort((s,i)=>i[1]-s[1]);return p.length===0?"":p.slice(0,3).map(([s,i])=>{const h=a(s);return i>1?`${h}Ã—${i}`:h}).join("")}}}const Js={class:"agent-swim-lane"},Ks={class:"lane-header"},Qs={class:"header-left"},Ys={class:"agent-label-container"},Xs={class:"font-mono text-xs"},Zs={class:"font-mono text-xs"},eo=["title"],to={class:"text-xs font-bold"},so=["title"],oo=["title"],no=["title"],ro=["aria-label"],ao={key:1,class:"absolute inset-0 flex items-center justify-center"},Se=80,lo=X({__name:"AgentSwimLane",props:{agentName:{},events:{},timeRange:{}},emits:["close"],setup(a,{emit:n}){const t=a,p=n,o=A(),s=A(),i=A(!1),h=A(!1),k=A(!1),l=T=>T===0?"â€”":T<1e3?`${Math.round(T)}ms`:`${(T/1e3).toFixed(1)}s`,d=O(()=>t.agentName.split(":")[0]),C=O(()=>t.agentName.split(":")[1]),y=O(()=>{const[T,f]=t.agentName.split(":"),U=t.events.filter(V=>V.source_app===T&&V.session_id.slice(0,8)===f).filter(V=>V.model_name);return U.length===0?null:U[U.length-1].model_name}),R=T=>{if(!T)return"";const f=T.split("-");return f.length>=4?`${f[1]}-${f[2]}-${f[3]}`:T},{dataPoints:v,addEvent:w,getChartData:E,setTimeRange:P,cleanup:x,eventTimingMetrics:N}=Hs(t.agentName);let c=null,$=null,G=null;const q=new Set,{formatEventTypeLabel:L}=Vs(),{getHexColorForApp:H,getHexColorForSession:Q}=Ee(),Z=O(()=>v.value.some(T=>T.count>0)),M=O(()=>v.value.reduce((T,f)=>T+f.count,0)),S=O(()=>v.value.reduce((T,f)=>{var U;return T+(((U=f.eventTypes)==null?void 0:U.PreToolUse)||0)},0)),D=O(()=>{const[T,f]=t.agentName.split(":");return`Activity chart for ${T} (session: ${f}) showing ${M.value} events`}),b=A({visible:!1,x:0,y:0,text:""}),r=T=>getComputedStyle(document.documentElement).getPropertyValue(`--theme-${T}`).trim()||"#3B82F6",_=()=>({maxDataPoints:60,animationDuration:300,barWidth:3,barGap:1,colors:{primary:r("primary"),glow:r("primary-light"),axis:r("border-primary"),text:r("text-tertiary")}}),B=()=>{var f;return{width:((f=s.value)==null?void 0:f.offsetWidth)||800,height:Se,padding:{top:7,right:7,bottom:20,left:7}}},K=()=>{if(!c||!o.value)return;const T=E(),f=Math.max(...T.map(U=>U.count),1);c.clear(),c.drawBackground(),c.drawAxes(),c.drawTimeLabels(t.timeRange),c.drawBars(T,f,1,L,Q)},ce=(T,f)=>{let U=0,ee=.8;const V=()=>{c&&(K(),c.drawPulseEffect(T,f,U,ee),U+=2,ee-=.02,ee>0?G=requestAnimationFrame(V):G=null)};V()},fe=()=>{if(!c||!o.value)return;const T=B();c.resize(T),K()};re(()=>t.events,()=>{const T=t.events,f=[];T.forEach(F=>{const J=`${F.id}-${F.timestamp}`;q.has(J)||(q.add(J),f.push(F))});const[U,ee]=t.agentName.split(":");f.forEach(F=>{if(F.hook_event_type!=="refresh"&&F.hook_event_type!=="initial"&&F.source_app===U&&F.session_id.slice(0,8)===ee&&(w(F),c&&o.value)){const J=B(),ae=J.width-J.padding.right-10,me=J.height/2;ce(ae,me)}});const V=new Set(T.map(F=>`${F.id}-${F.timestamp}`));q.forEach(F=>{V.has(F)||q.delete(F)}),K()},{deep:!0,immediate:!0}),re(()=>t.timeRange,T=>{P(T),K()},{immediate:!0});const ue=T=>{if(!o.value||!s.value)return;const f=o.value.getBoundingClientRect(),U=T.clientX-f.left,ee=T.clientY-f.top,V=E(),F=B(),J={x:F.padding.left,y:F.padding.top,width:F.width-F.padding.left-F.padding.right,height:F.height-F.padding.top-F.padding.bottom},ae=J.width/V.length,me=Math.floor((U-J.x)/ae);if(me>=0&&me<V.length&&ee>=J.y&&ee<=J.y+J.height){const ye=V[me];if(ye.count>0){const $e=Object.entries(ye.eventTypes||{}).map(([Oe,Re])=>`${Oe}: ${Re}`).join(", ");b.value={visible:!0,x:T.clientX-f.left,y:T.clientY-f.top-30,text:`${ye.count} events${$e?` (${$e})`:""}`};return}}b.value.visible=!1},Y=()=>{b.value.visible=!1},ne=new MutationObserver(()=>{c&&K()});return he(()=>{if(!o.value||!s.value)return;const T=B(),f=_();c=qs(o.value,T,f),$=new ResizeObserver(fe),$.observe(s.value),ne.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),K();let U=0;const V=1e3/30,F=J=>{const ae=J-U;ae>=V&&(K(),U=J-ae%V),requestAnimationFrame(F)};requestAnimationFrame(F)}),ke(()=>{x(),c&&c.stopAnimation(),$&&s.value&&$.disconnect(),G&&cancelAnimationFrame(G),ne.disconnect()}),(T,f)=>(u(),m("div",Js,[e("div",Ks,[e("div",Qs,[e("div",Ys,[e("span",{class:"agent-label-app",style:de({backgroundColor:j(H)(d.value),borderColor:j(H)(d.value)})},[e("span",Xs,g(d.value),1)],4),e("span",{class:"agent-label-session",style:de({backgroundColor:j(Q)(C.value),borderColor:j(Q)(C.value)})},[e("span",Zs,g(C.value),1)],4)]),y.value?(u(),m("div",{key:0,class:"model-badge",title:`Model: ${y.value}`},[f[7]||(f[7]=e("span",{class:"text-base"},"ðŸ§ ",-1)),e("span",to,g(R(y.value)),1)],8,eo)):I("",!0),e("div",{class:"event-count-badge",onMouseover:f[0]||(f[0]=U=>i.value=!0),onMouseleave:f[1]||(f[1]=U=>i.value=!1),title:`Total events in the last ${a.timeRange==="1m"?"1 minute":a.timeRange==="3m"?"3 minutes":"5 minutes"}`},[f[8]||(f[8]=e("span",{class:"text-base w-4 flex-shrink-0"},"âš¡",-1)),e("span",{class:z(["text-xs font-bold",i.value?"min-w-[65px]":""])},g(i.value?`${M.value} Events`:M.value),3)],40,so),e("div",{class:"tool-call-badge",onMouseover:f[2]||(f[2]=U=>h.value=!0),onMouseleave:f[3]||(f[3]=U=>h.value=!1),title:`Tool calls in the last ${a.timeRange==="1m"?"1 minute":a.timeRange==="3m"?"3 minutes":"5 minutes"}`},[f[9]||(f[9]=e("span",{class:"text-base w-4 flex-shrink-0"},"ðŸ”§",-1)),e("span",{class:z(["text-xs font-bold",h.value?"min-w-[75px]":""])},g(h.value?`${S.value} Tool Calls`:S.value),3)],40,oo),e("div",{class:"avg-time-badge flex items-center gap-1.5 px-2 py-2 bg-[var(--theme-bg-tertiary)] rounded-lg border border-[var(--theme-border-primary)] shadow-sm min-h-[28px]",onMouseover:f[4]||(f[4]=U=>k.value=!0),onMouseleave:f[5]||(f[5]=U=>k.value=!1),title:`Average time between events in the last ${a.timeRange==="1m"?"1 minute":a.timeRange==="3m"?"3 minutes":"5 minutes"}`},[f[10]||(f[10]=e("span",{class:"text-lg w-5 flex-shrink-0"},"ðŸ•",-1)),e("span",{class:z(["text-sm font-bold text-[var(--theme-text-primary)]",k.value?"min-w-[90px]":""])},g(k.value?`Avg Gap: ${l(j(N).avgGap)}`:l(j(N).avgGap)),3)],40,no)]),e("button",{onClick:f[6]||(f[6]=U=>p("close")),class:"close-btn",title:"Remove this swim lane"}," âœ• ")]),e("div",{ref_key:"chartContainer",ref:s,class:"chart-wrapper"},[e("canvas",{ref_key:"canvas",ref:o,class:"w-full cursor-crosshair",style:de({height:Se+"px"}),onMousemove:ue,onMouseleave:Y,role:"img","aria-label":D.value},null,44,ro),b.value.visible?(u(),m("div",{key:0,class:"absolute bg-gradient-to-r from-[var(--theme-primary)] to-[var(--theme-primary-dark)] text-white px-2 py-1.5 rounded-lg text-xs pointer-events-none z-10 shadow-lg border border-[var(--theme-primary-light)] font-bold drop-shadow-md",style:de({left:b.value.x+"px",top:b.value.y+"px"})},g(b.value.text),5)):I("",!0),Z.value?I("",!0):(u(),m("div",ao,[...f[11]||(f[11]=[e("p",{class:"text-[var(--theme-text-tertiary)] text-sm font-semibold"},[e("span",{class:"mr-1"},"â³"),W(" Waiting for events... ")],-1)])]))],512)]))}}),io=ge(lo,[["__scopeId","data-v-e9fa4069"]]),co={key:0,class:"swim-lane-container"},uo={class:"lanes-wrapper"},mo=X({__name:"AgentSwimLaneContainer",props:{selectedAgents:{},events:{},timeRange:{}},emits:["update:selectedAgents"],setup(a,{emit:n}){const t=a,p=n;function o(s){const i=t.selectedAgents.filter(h=>h!==s);p("update:selectedAgents",i)}return(s,i)=>a.selectedAgents.length>0?(u(),m("div",co,[e("div",uo,[(u(!0),m(se,null,oe(a.selectedAgents,h=>(u(),be(io,{key:h,"agent-name":h,events:a.events,"time-range":a.timeRange,onClose:k=>o(h)},null,8,["agent-name","events","time-range","onClose"]))),128))])])):I("",!0)}}),po=ge(mo,[["__scopeId","data-v-74aa7792"]]),go={class:"flex flex-col h-full bg-[#0f172a] border-r border-[#1e293b]"},vo={class:"p-4 border-b border-[#1e293b] flex items-center justify-between"},xo={class:"text-xs text-slate-500 font-mono"},ho={class:"flex-1 overflow-y-auto p-4 space-y-3"},bo={key:0,class:"text-center py-8 text-slate-500"},fo={class:"pl-2 flex flex-col gap-2"},yo={class:"flex items-center justify-between"},wo={class:"text-sm font-bold text-slate-200 truncate"},ko={class:"flex items-center gap-1.5 -mt-1"},_o={class:"text-[10px] text-slate-500 font-mono"},$o={class:"text-[10px] text-slate-400 leading-tight line-clamp-2 min-h-[2.5em]"},To={class:"space-y-1 mt-1"},Co={class:"flex justify-between text-[10px] text-slate-500 font-mono uppercase tracking-wider"},So={class:"text-slate-400"},Eo={class:"h-1.5 w-full bg-slate-800 rounded-full overflow-hidden flex"},Ao={class:"flex items-center justify-between mt-2 pt-2 border-t border-slate-700/50"},Io={class:"flex items-center gap-3"},Oo={class:"text-[10px] text-slate-400 flex items-center gap-1",title:"Messages"},Ro={class:"text-slate-300 font-bold"},No={class:"text-[10px] text-slate-400 flex items-center gap-1",title:"Tools"},Po={class:"text-amber-400 font-bold"},Mo={class:"text-[10px] text-slate-400 flex items-center gap-1",title:"Hooks"},Lo={class:"text-teal-400 font-bold"},jo={class:"text-[10px] text-slate-400 flex items-center gap-1",title:"Thoughts"},Do={class:"text-purple-400 font-bold"},Fo={class:"text-xs font-mono text-slate-500"},Bo=X({__name:"AgentStatusList",props:{events:{},uniqueAgentIds:{}},setup(a){const n=a,t=O(()=>{const p=new Map;for(const o of n.events){const s=o.source_app||"unknown",i=o.hook_event_type||"";p.has(s)||p.set(s,{id:s,name:s,messages:0,tools:0,hooks:0,thoughts:0,cost:0,lastMessage:"",lastEventTime:0});const h=p.get(s);i.toLowerCase().includes("tool")?h.tools++:i.toLowerCase().includes("hook")||i.toLowerCase().includes("pre")||i.toLowerCase().includes("post")?h.hooks++:i.toLowerCase().includes("think")?h.thoughts++:h.messages++,h.cost+=o.cost_usd||0;const k=new Date(o.timestamp||0).getTime();k>h.lastEventTime&&(h.lastEventTime=k,h.lastMessage=o.summary||o.hook_event_type||"Processing...")}return p.size>0?Array.from(p.values()).map(o=>({id:o.id,name:o.name,status:Date.now()-o.lastEventTime<6e4?"RUNNING":"IDLE",contextUsed:Math.min(o.messages*1e3+o.tools*500,2e5),contextLimit:2e5,messages:o.messages,tools:o.tools,hooks:o.hooks,thoughts:o.thoughts,model:"SONNET-3.5",cost:o.cost,template:o.name.includes("qa")?"qa-agent":"agent-template",lastMessage:o.lastMessage.substring(0,100)+(o.lastMessage.length>100?"...":"")})):[]});return(p,o)=>(u(),m("div",go,[e("div",vo,[o[0]||(o[0]=e("h3",{class:"text-sm font-bold text-gray-400 tracking-wider"},"AGENTS",-1)),e("div",xo,g(t.value?t.value.length:0)+" Total",1)]),e("div",ho,[t.value.length===0?(u(),m("div",bo,[...o[1]||(o[1]=[e("div",{class:"text-2xl mb-2"},"ðŸ˜´",-1),e("div",{class:"text-xs"},"No active agents",-1),e("div",{class:"text-[10px] text-slate-600 mt-1"},"Waiting for events...",-1)])])):I("",!0),(u(!0),m(se,null,oe(t.value,s=>(u(),m("div",{key:s.id,class:"bg-[#1e293b] rounded-lg border border-slate-700/50 p-3 hover:border-slate-600 transition-colors group relative overflow-hidden"},[e("div",{class:z(["absolute left-0 top-0 bottom-0 w-1 transition-colors",s.status==="RUNNING"?"bg-emerald-500":"bg-slate-600"])},null,2),e("div",fo,[e("div",yo,[e("span",wo,g(s.name),1),e("span",{class:z(["text-[10px] font-bold px-1.5 py-0.5 rounded border uppercase tracking-wide",s.status==="RUNNING"?"bg-blue-900/40 text-blue-400 border-blue-500/30":"bg-slate-800 text-slate-500 border-slate-700"])},g(s.status),3)]),e("div",ko,[o[2]||(o[2]=e("div",{class:"w-2 h-2 rounded bg-slate-600"},null,-1)),e("span",_o,"Template: "+g(s.template),1)]),e("p",$o,g(s.lastMessage||"Waiting for tasks..."),1),e("div",To,[e("div",Co,[o[3]||(o[3]=e("span",null,"Context Window",-1)),e("span",So,g((s.contextUsed/1e3).toFixed(0))+"k / 200k",1)]),e("div",Eo,[e("div",{class:"h-full bg-blue-500 rounded-full",style:de({width:Math.min(s.contextUsed/2e5*100,100)+"%"})},null,4)])]),e("div",Ao,[e("div",Io,[e("span",Oo,[o[4]||(o[4]=W(" ðŸ’¬ ",-1)),e("span",Ro,g(s.messages),1)]),e("span",No,[o[5]||(o[5]=W(" âš¡ ",-1)),e("span",Po,g(s.tools),1)]),e("span",Mo,[o[6]||(o[6]=W(" ðŸª ",-1)),e("span",Lo,g(s.hooks),1)]),e("span",jo,[o[7]||(o[7]=W(" ðŸ§  ",-1)),e("span",Do,g(s.thoughts),1)])]),e("div",Fo," $"+g(s.cost.toFixed(3)),1)])])]))),128))])]))}}),Uo={class:"flex flex-col h-full bg-[#0f172a] border-l border-[#1e293b] overflow-hidden"},zo={key:0,class:"p-4 border-b border-[#1e293b] bg-[#1e293b]/50"},Go={class:"flex items-center justify-between mb-2"},Ho={class:"text-xs text-slate-500 font-mono"},Wo={class:"flex items-center gap-2"},qo={class:"text-lg font-bold text-white tracking-tight"},Vo={class:"mt-2 text-xs text-slate-400 font-mono"},Jo={class:"text-slate-300"},Ko={key:1,class:"flex-1 overflow-y-auto p-4 space-y-6"},Qo={key:0,class:"space-y-2"},Yo={class:"bg-[#1e1b4b]/30 rounded-lg border border-purple-500/30 p-4 shadow-[0_0_15px_rgba(168,85,247,0.1)]"},Xo={class:"text-xs text-slate-300 leading-relaxed font-mono whitespace-pre-wrap"},Zo={key:1,class:"space-y-2"},en={class:"bg-[#451a03]/20 rounded-lg border border-amber-500/30 p-0 overflow-hidden"},tn={class:"bg-amber-950/30 px-3 py-2 border-b border-amber-500/20 flex justify-between items-center"},sn={class:"text-xs font-bold text-amber-200 font-mono"},on={class:"p-3 bg-[#0f172a]/50"},nn={class:"text-[10px] sm:text-xs font-mono text-amber-100/90 overflow-x-auto whitespace-pre-wrap"},rn={key:2,class:"space-y-2"},an={class:"inline-block px-2 py-1 rounded bg-teal-500/10 border border-teal-500/30 text-teal-400 text-xs font-mono"},ln={class:"space-y-2 pt-4 border-t border-slate-800/50"},dn={class:"bg-[#020617] rounded border border-slate-800 p-3 overflow-hidden group hover:border-slate-700 transition-colors"},cn={class:"text-[9px] font-mono text-slate-500 overflow-x-auto group-hover:text-slate-400 transition-colors"},un={key:2,class:"flex-1 flex flex-col items-center justify-center text-slate-500 p-8 text-center"},mn={class:"p-3 bg-[#020617] border-t border-[#1e293b] flex justify-between text-[10px] font-mono text-slate-500"},pn={key:0},gn={key:1},vn=X({__name:"EventDetailPanel",props:{selectedEvent:{}},setup(a){const n=a,t=o=>o?Ge(new Date(o),"HH:mm:ss"):"",p=O(()=>{var s,i,h,k,l,d;if(!n.selectedEvent)return null;const o=n.selectedEvent;return(s=o.hook_event_type)!=null&&s.includes("Tool")||(i=o.data)!=null&&i.tool?{tool:((h=o.data)==null?void 0:h.tool)||((k=o.data)==null?void 0:k.name)||"Unknown Tool",detail:JSON.stringify(((l=o.data)==null?void 0:l.input)||((d=o.data)==null?void 0:d.args)||{},null,2)}:null});return(o,s)=>{var i,h,k;return u(),m("div",Uo,[a.selectedEvent?(u(),m("div",zo,[e("div",Go,[s[0]||(s[0]=e("span",{class:"text-xs font-mono text-indigo-400"},"Selected Event",-1)),e("span",Ho,g(t(a.selectedEvent.timestamp)),1)]),e("div",Wo,[s[1]||(s[1]=e("div",{class:"w-2 h-2 rounded-full bg-emerald-500"},null,-1)),e("h2",qo,g(a.selectedEvent.source_app),1)]),e("div",Vo,[s[2]||(s[2]=W(" Session: ",-1)),e("span",Jo,g(a.selectedEvent.session_id),1)])])):I("",!0),a.selectedEvent?(u(),m("div",Ko,[a.selectedEvent.hook_event_type==="Thinking"||(i=a.selectedEvent.payload)!=null&&i.thoughts?(u(),m("div",Qo,[s[3]||(s[3]=e("h3",{class:"text-xs font-bold text-purple-400 uppercase tracking-widest flex items-center gap-2"},[e("span",{class:"w-2 h-2 rounded-full bg-purple-500 animate-pulse"}),W(" ORCHESTRATOR THINKING ")],-1)),e("div",Yo,[e("p",Xo,g(((h=a.selectedEvent.payload)==null?void 0:h.thoughts)||((k=a.selectedEvent.payload)==null?void 0:k.content)||a.selectedEvent.summary),1)])])):I("",!0),p.value?(u(),m("div",Zo,[s[5]||(s[5]=e("h3",{class:"text-xs font-bold text-amber-500 uppercase tracking-widest flex items-center gap-2"},[e("span",null,"âš¡ ORCHESTRATOR ACTION")],-1)),e("div",en,[e("div",tn,[e("span",sn,"Tool: "+g(p.value.tool),1),s[4]||(s[4]=e("span",{class:"text-[9px] text-amber-500/80 uppercase tracking-wider"},"Parameters",-1))]),e("div",on,[e("pre",nn,g(p.value.detail),1)])])])):I("",!0),!p.value&&a.selectedEvent.hook_event_type!=="Thinking"?(u(),m("div",rn,[s[6]||(s[6]=e("h3",{class:"text-xs font-bold text-teal-500 uppercase tracking-widest flex items-center gap-2"},[e("span",null,"ðŸª Event Type")],-1)),e("div",an,g(a.selectedEvent.hook_event_type),1)])):I("",!0),e("div",ln,[s[7]||(s[7]=e("h3",{class:"text-[10px] font-bold text-slate-600 uppercase tracking-widest"}," Raw Payload ",-1)),e("div",dn,[e("pre",cn,g(JSON.stringify(a.selectedEvent,null,2)),1)])])])):(u(),m("div",un,[...s[8]||(s[8]=[e("div",{class:"text-4xl mb-4 opacity-20"},"ðŸ–±ï¸",-1),e("p",{class:"text-sm"},"Select an event from the timeline to view details.",-1)])])),e("div",mn,[a.selectedEvent?(u(),m("div",pn,"Payload Size: "+g(JSON.stringify(a.selectedEvent).length)+"b",1)):I("",!0),a.selectedEvent?(u(),m("div",gn,"Context: 123 tokens")):I("",!0)])])}}}),Ae="sam-visualization-settings",we={showCouncilIndicator:!0,showE2BStatus:!0,showCostSparkline:!0,showRagIndicator:!0,showTokenFlowOverlay:!1},xn=()=>{try{const a=localStorage.getItem(Ae);if(a)return{...we,...JSON.parse(a)}}catch(a){console.warn("Failed to load visualization settings:",a)}return{...we}},ie=A(xn());re(ie,a=>{try{localStorage.setItem(Ae,JSON.stringify(a))}catch(n){console.warn("Failed to save visualization settings:",n)}},{deep:!0});function Ie(){return{settings:ie,toggleSetting:p=>{ie.value[p]=!ie.value[p]},setSetting:(p,o)=>{ie.value[p]=o},resetToDefaults:()=>{ie.value={...we}}}}const hn=["title"],bn={class:"flex items-end gap-0.5 h-4"},fn={class:"text-sm mobile:text-xs font-bold text-[var(--theme-text-primary)]"},pe=10,yn=X({__name:"CostSparkline",props:{sessionId:{},events:{}},setup(a){const n=a,{settings:t}=Ie(),p=O(()=>t.value.showCostSparkline),o=A([]),s=O(()=>n.events.reduce((k,l)=>{const d=l.cost_usd||l.cost||0;return k+d},0)),i=O(()=>{if(o.value.length===0)return Array(pe).fill(0);const k=o.value.map(C=>C.cost),l=Math.max(...k,.001),d=[...k];for(;d.length<pe;)d.unshift(0);return d.slice(-pe).map(C=>C/l)});re(s,k=>{o.value.push({timestamp:Date.now(),cost:k}),o.value.length>pe&&(o.value=o.value.slice(-pe))},{immediate:!0});const h=k=>k<.01?k.toFixed(4):k<1?k.toFixed(3):k.toFixed(2);return(k,l)=>p.value?(u(),m("div",{key:0,class:"flex items-center gap-1.5 px-2 py-1 bg-[var(--theme-bg-tertiary)] rounded-lg border border-[var(--theme-border-primary)] shadow-sm",title:`Cumulative cost: $${s.value.toFixed(4)}`},[l[0]||(l[0]=e("span",{class:"text-lg mobile:text-base"},"ðŸ’°",-1)),e("div",bn,[(u(!0),m(se,null,oe(i.value,(d,C)=>(u(),m("div",{key:C,class:"w-1 bg-gradient-to-t from-green-500 to-emerald-400 rounded-t-sm transition-all duration-300",style:de({height:`${Math.max(d*100,5)}%`})},null,4))),128))]),e("span",fn," $"+g(h(s.value)),1)],8,hn)):I("",!0)}}),wn={class:"bg-[var(--theme-bg-primary)] rounded-xl border border-[var(--theme-border-primary)] p-5 shadow-lg"},kn={class:"flex items-center justify-between mb-4"},_n={class:"space-y-3"},$n={class:"flex items-center justify-between p-3 bg-[var(--theme-bg-secondary)] rounded-lg cursor-pointer hover:bg-[var(--theme-bg-tertiary)] transition-colors"},Tn=["checked"],Cn={class:"flex items-center justify-between p-3 bg-[var(--theme-bg-secondary)] rounded-lg cursor-pointer hover:bg-[var(--theme-bg-tertiary)] transition-colors"},Sn=["checked"],En={class:"flex items-center justify-between p-3 bg-[var(--theme-bg-secondary)] rounded-lg cursor-pointer hover:bg-[var(--theme-bg-tertiary)] transition-colors"},An=["checked"],In={class:"flex items-center justify-between p-3 bg-[var(--theme-bg-secondary)] rounded-lg cursor-pointer hover:bg-[var(--theme-bg-tertiary)] transition-colors"},On=["checked"],Rn={class:"flex items-center justify-between p-3 bg-[var(--theme-bg-secondary)] rounded-lg cursor-pointer hover:bg-[var(--theme-bg-tertiary)] transition-colors border border-dashed border-[var(--theme-border-secondary)]"},Nn=["checked"],Pn=X({__name:"VisualizationSettingsPanel",setup(a){const{settings:n,toggleSetting:t,resetToDefaults:p}=Ie();return(o,s)=>(u(),m("div",wn,[e("div",kn,[s[6]||(s[6]=e("h3",{class:"text-lg font-bold text-[var(--theme-text-primary)] flex items-center gap-2"},[e("span",null,"âš™ï¸"),e("span",null,"Visualization Settings")],-1)),e("button",{onClick:s[0]||(s[0]=(...i)=>j(p)&&j(p)(...i)),class:"text-xs text-[var(--theme-text-tertiary)] hover:text-[var(--theme-primary)] transition-colors",title:"Reset to defaults"}," Reset ")]),e("div",_n,[e("label",$n,[s[7]||(s[7]=e("div",{class:"flex items-center gap-3"},[e("span",{class:"text-xl"},"ðŸ›ï¸"),e("div",null,[e("div",{class:"font-medium text-sm text-[var(--theme-text-primary)]"},"Council Indicator"),e("div",{class:"text-xs text-[var(--theme-text-tertiary)]"},"Show orchestrator pattern badge")])],-1)),e("input",{type:"checkbox",checked:j(n).showCouncilIndicator,onChange:s[1]||(s[1]=i=>j(t)("showCouncilIndicator")),class:"toggle toggle-primary"},null,40,Tn)]),e("label",Cn,[s[8]||(s[8]=e("div",{class:"flex items-center gap-3"},[e("span",{class:"text-xl"},"ðŸ“¦"),e("div",null,[e("div",{class:"font-medium text-sm text-[var(--theme-text-primary)]"},"E2B Status"),e("div",{class:"text-xs text-[var(--theme-text-tertiary)]"},"Show sandbox/local runtime indicator")])],-1)),e("input",{type:"checkbox",checked:j(n).showE2BStatus,onChange:s[2]||(s[2]=i=>j(t)("showE2BStatus")),class:"toggle toggle-primary"},null,40,Sn)]),e("label",En,[s[9]||(s[9]=e("div",{class:"flex items-center gap-3"},[e("span",{class:"text-xl"},"ðŸ’°"),e("div",null,[e("div",{class:"font-medium text-sm text-[var(--theme-text-primary)]"},"Cost Sparkline"),e("div",{class:"text-xs text-[var(--theme-text-tertiary)]"},"Show cumulative cost chart")])],-1)),e("input",{type:"checkbox",checked:j(n).showCostSparkline,onChange:s[3]||(s[3]=i=>j(t)("showCostSparkline")),class:"toggle toggle-primary"},null,40,An)]),e("label",In,[s[10]||(s[10]=e("div",{class:"flex items-center gap-3"},[e("span",{class:"text-xl"},"ðŸ“š"),e("div",null,[e("div",{class:"font-medium text-sm text-[var(--theme-text-primary)]"},"RAG Indicator"),e("div",{class:"text-xs text-[var(--theme-text-tertiary)]"},"Show context injection status")])],-1)),e("input",{type:"checkbox",checked:j(n).showRagIndicator,onChange:s[4]||(s[4]=i=>j(t)("showRagIndicator")),class:"toggle toggle-primary"},null,40,On)]),e("label",Rn,[s[11]||(s[11]=e("div",{class:"flex items-center gap-3"},[e("span",{class:"text-xl"},"ðŸ”€"),e("div",null,[e("div",{class:"font-medium text-sm text-[var(--theme-text-primary)]"},"Token Flow Overlay"),e("div",{class:"text-xs text-[var(--theme-text-tertiary)]"},"Show input/output token heatmap (experimental)")])],-1)),e("input",{type:"checkbox",checked:j(n).showTokenFlowOverlay,onChange:s[5]||(s[5]=i=>j(t)("showTokenFlowOverlay")),class:"toggle toggle-secondary"},null,40,Nn)])])]))}}),Mn=ge(Pn,[["__scopeId","data-v-ed410a7e"]]),Ln={class:"h-screen w-screen bg-[var(--theme-bg-primary)] text-[var(--theme-text-primary)] transition-colors duration-300 overflow-hidden"},jn={class:"w-full h-full flex flex-col"},Dn={class:"flex items-center justify-between px-4 py-2 bg-[#0f172a] border-b border-slate-800 flex-shrink-0"},Fn={class:"flex bg-[var(--theme-bg-tertiary)] rounded-lg p-1 border border-[var(--theme-border-primary)] shadow-inner relative z-20"},Bn={key:0,class:"flex-1 flex overflow-hidden"},Un={class:"w-[280px] flex-shrink-0 hidden xl:block h-full overflow-y-auto bg-[var(--theme-bg-secondary)] border-r border-[var(--theme-border-primary)]"},zn={class:"flex-1 flex flex-col h-full min-w-0 bg-[#020617] relative"},Gn={class:"flex-shrink-0 bg-[#0f172a] border-b border-[var(--theme-border-primary)] p-3 flex flex-col gap-3 z-20"},Hn={class:"flex items-center justify-between text-xs font-mono text-slate-400"},Wn={class:"flex items-center gap-4"},qn={class:"text-white font-bold"},Vn={class:"text-white font-bold"},Jn={class:"text-white font-bold"},Kn={class:"flex items-center gap-4"},Qn={class:"text-emerald-400 font-bold"},Yn={class:"flex items-center justify-between gap-3"},Xn={class:"flex items-center gap-1"},Zn={class:"flex-1 max-w-sm relative"},er={key:0,class:"flex-shrink-0 w-full bg-[var(--theme-bg-secondary)] border-b border-[var(--theme-border-primary)] px-3 py-2"},tr={class:"flex-1 overflow-hidden relative"},sr={class:"absolute bottom-6 right-6 flex gap-2"},or={class:"w-[350px] flex-shrink-0 hidden lg:block h-full overflow-y-auto bg-[#0f172a] border-l border-[var(--theme-border-primary)]"},nr={key:1,class:"flex-1 flex flex-col bg-[var(--theme-bg-secondary)] rounded-lg border border-[var(--theme-border-primary)] p-6 overflow-y-auto"},rr={class:"max-w-5xl mx-auto w-full"},ar={class:"grid grid-cols-1 lg:grid-cols-2 gap-8"},lr={class:"space-y-6"},ir={class:"bg-[var(--theme-bg-primary)] p-5 rounded-xl border border-[var(--theme-border-primary)] shadow-sm"},dr={class:"space-y-3"},cr=["onClick"],ur={class:"font-medium text-[var(--theme-text-primary)]"},mr={class:"text-xs text-[var(--theme-text-secondary)] mt-1"},pr={class:"bg-[var(--theme-bg-primary)] p-5 rounded-xl border border-[var(--theme-border-primary)] shadow-sm"},gr={class:"bg-[var(--theme-bg-primary)] p-5 rounded-xl border border-[var(--theme-border-primary)] shadow-sm"},vr={class:"flex flex-col gap-4"},xr={class:"flex items-center gap-3 cursor-pointer p-2 hover:bg-[var(--theme-bg-tertiary)] rounded-lg transition-colors"},hr={class:"flex items-center gap-3 cursor-pointer p-2 hover:bg-[var(--theme-bg-tertiary)] rounded-lg transition-colors"},br={class:"flex flex-col space-y-6"},fr={class:"bg-[var(--theme-bg-primary)] p-5 rounded-xl border border-[var(--theme-border-primary)] shadow-sm flex-1 flex flex-col"},yr={class:"mb-4"},wr={class:"flex-1 flex flex-col"},kr={class:"flex items-center justify-end gap-4 pt-4"},_r={key:0,class:"text-red-500 text-sm px-4"},$r=["disabled"],Tr={key:0,class:"animate-spin"},Cr={key:1},Sr={key:2,class:"flex-1 flex flex-col bg-[var(--theme-bg-secondary)] rounded-lg border border-[var(--theme-border-primary)] p-6 overflow-y-auto"},Er={class:"max-w-2xl mx-auto w-full"},jr=X({__name:"Dashboard",setup(a){const n=A("monitor"),t=A({sourceApp:"",sessionId:"",eventType:""}),p=A(!0),o=A([]),s=A([]),i=A([]),h=A("1m"),k=A(null),l=O(()=>o.value.length),d=O(()=>{const b=Date.now(),r=new Set;if(!L.value)return 0;for(let _=L.value.length-1;_>=0;_--){const B=L.value[_],K=new Date(B.timestamp).getTime();if(b-K>6e4)break;const ce=`${B.source_app}:${B.session_id.slice(0,8)}`;r.add(ce)}return r.size}),C=O(()=>L.value.reduce((b,r)=>b+(r.cost_usd||0),0)),y=A(""),R=A("ceo-council"),v=A(""),w=A(""),E=A(!0),P=A(!0),x=A(!1),N=A(""),c=Be(),$=Ue();Fe();const G=O(()=>c.templates),q=O(()=>y.value&&v.value&&w.value),{events:L,clearEvents:H}=De(),Q=A(""),Z=b=>{t.value.eventType===b?t.value.eventType="":t.value.eventType=b},M=()=>{p.value=!p.value},S=b=>{const[r,_]=b.split(":"),B=i.value.indexOf(b);B>=0?i.value.splice(B,1):i.value.push(b)},D=async()=>{if(q.value){x.value=!0,N.value="";try{if(!y.value)throw new Error("No template selected");const b=await c.createWorkflow(y.value,v.value);if(!b||!b.id)throw new Error("Failed to create workflow instance");if(!b||!b.id)throw new Error("Failed to create workflow instance");const r=await $.createSession(b.id,R.value,w.value,P.value,E.value?"e2b":"local");n.value="monitor",t.value={sourceApp:"",sessionId:r.id,eventType:""},w.value="",v.value="",alert(`Session "${r.id}" launched successfully!`)}catch(b){console.error("Deploy failed:",b),N.value=b.message||"Deployment failed"}finally{x.value=!1}}};return he(async()=>{await c.fetchTemplates(),G.value.length>0&&!y.value&&(y.value=G.value[0].id)}),(b,r)=>(u(),m("div",Ln,[e("main",jn,[e("div",Dn,[r[21]||(r[21]=e("h2",{class:"text-xl font-bold text-[var(--theme-text-primary)]"},"Dashboard",-1)),te(yn,{events:j(L),class:"mr-4"},null,8,["events"]),e("div",Fn,[e("button",{"data-testid":"tab-monitor",onClick:r[0]||(r[0]=_=>n.value="monitor"),class:z(["px-4 py-2 rounded-md text-sm font-medium transition-all duration-200 flex items-center space-x-2 cursor-pointer relative",n.value==="monitor"?"bg-[var(--theme-primary)] text-white shadow-md":"text-[var(--theme-text-secondary)] hover:text-[var(--theme-text-primary)] hover:bg-[var(--theme-bg-primary)]"])},[...r[18]||(r[18]=[e("span",null,"ðŸ“Š",-1),e("span",null,"Monitor",-1)])],2),e("button",{"data-testid":"tab-deploy",onClick:r[1]||(r[1]=_=>n.value="deploy"),class:z(["px-4 py-2 rounded-md text-sm font-medium transition-all duration-200 flex items-center space-x-2 cursor-pointer relative",n.value==="deploy"?"bg-[var(--theme-primary)] text-white shadow-md":"text-[var(--theme-text-secondary)] hover:text-[var(--theme-text-primary)] hover:bg-[var(--theme-bg-primary)]"])},[...r[19]||(r[19]=[e("span",null,"ðŸš€",-1),e("span",null,"Deploy",-1)])],2),e("button",{"data-testid":"tab-settings",onClick:r[2]||(r[2]=_=>n.value="settings"),class:z(["px-4 py-2 rounded-md text-sm font-medium transition-all duration-200 flex items-center space-x-2 cursor-pointer relative",n.value==="settings"?"bg-[var(--theme-primary)] text-white shadow-md":"text-[var(--theme-text-secondary)] hover:text-[var(--theme-text-primary)] hover:bg-[var(--theme-bg-primary)]"])},[...r[20]||(r[20]=[e("span",null,"âš™ï¸",-1),e("span",null,"Settings",-1)])],2)])]),n.value==="monitor"?(u(),m("div",Bn,[e("div",Un,[te(Bo,{events:j(L),"unique-agent-ids":o.value},null,8,["events","unique-agent-ids"])]),e("div",zn,[e("div",Gn,[e("div",Hn,[e("div",Wn,[e("div",null,[r[22]||(r[22]=W("Active: ",-1)),e("span",qn,g(l.value),1)]),e("div",null,[r[23]||(r[23]=W("Running: ",-1)),e("span",Vn,g(d.value),1)]),e("div",null,[r[24]||(r[24]=W("Logs: ",-1)),e("span",Jn,g(j(L).length),1)])]),e("div",Kn,[e("div",null,[r[25]||(r[25]=W("Cost: ",-1)),e("span",Qn,"$"+g(C.value.toFixed(2)),1)]),e("button",{class:"hover:text-white transition-colors",onClick:r[3]||(r[3]=_=>j(H)())},"CLEAR ALL")])]),e("div",Yn,[e("div",Xn,[e("button",{onClick:r[4]||(r[4]=_=>Z("RESPONSE")),class:z(["px-2 py-1 rounded text-[10px] font-bold uppercase transition-colors flex items-center gap-1 border",t.value.eventType==="RESPONSE"?"bg-emerald-500/20 text-emerald-400 border-emerald-500/50":"bg-emerald-500/5 text-emerald-400/70 border-emerald-500/20 hover:bg-emerald-500/10"])},[...r[26]||(r[26]=[e("span",{class:"w-1.5 h-1.5 rounded-full bg-emerald-500"},null,-1),W(" RESPONSE ",-1)])],2),e("button",{onClick:r[5]||(r[5]=_=>Z("TOOL")),class:z(["px-2 py-1 rounded text-[10px] font-bold uppercase transition-colors flex items-center gap-1 border",t.value.eventType==="TOOL"?"bg-amber-500/20 text-amber-400 border-amber-500/50":"bg-amber-500/5 text-amber-400/70 border-amber-500/20 hover:bg-amber-500/10"])},[...r[27]||(r[27]=[e("span",{class:"w-1.5 h-1.5 rounded-full bg-amber-500"},null,-1),W(" TOOL ",-1)])],2),e("button",{onClick:r[6]||(r[6]=_=>Z("THINKING")),class:z(["px-2 py-1 rounded text-[10px] font-bold uppercase transition-colors flex items-center gap-1 border",t.value.eventType==="THINKING"?"bg-purple-500/20 text-purple-400 border-purple-500/50":"bg-purple-500/5 text-purple-400/70 border-purple-500/20 hover:bg-purple-500/10"])},[...r[28]||(r[28]=[e("span",{class:"w-1.5 h-1.5 rounded-full bg-purple-500"},null,-1),W(" THINKING ",-1)])],2),e("button",{onClick:r[7]||(r[7]=_=>Z("HOOK")),class:z(["px-2 py-1 rounded text-[10px] font-bold uppercase transition-colors flex items-center gap-1 border",t.value.eventType==="HOOK"?"bg-teal-500/20 text-teal-400 border-teal-500/50":"bg-teal-500/5 text-teal-400/70 border-teal-500/20 hover:bg-teal-500/10"])},[...r[29]||(r[29]=[e("span",{class:"w-1.5 h-1.5 rounded-full bg-teal-500"},null,-1),W(" HOOK ",-1)])],2)]),e("div",Zn,[le(e("input",{"onUpdate:modelValue":r[8]||(r[8]=_=>Q.value=_),type:"text",placeholder:"Search agents, events, tasks...",class:"w-full bg-[#1e293b] text-slate-300 text-xs px-3 py-1.5 rounded border border-slate-700 focus:border-blue-500 focus:outline-none placeholder-slate-500 pr-8"},null,512),[[xe,Q.value]]),Q.value?(u(),m("button",{key:0,onClick:r[9]||(r[9]=_=>Q.value=""),class:"absolute right-2 top-1/2 transform -translate-y-1/2 text-slate-500 hover:text-white"}," âœ• ")):I("",!0)]),e("button",{onClick:M,class:z(["px-3 py-1.5 rounded text-[10px] font-bold uppercase tracking-wide border transition-all",p.value?"bg-blue-600 text-white border-blue-500 shadow-md shadow-blue-900/20":"bg-slate-800 text-slate-400 border-slate-700 hover:bg-slate-700"])}," AUTO-FOLLOW ",2)])]),i.value.length>0?(u(),m("div",er,[te(po,{"selected-agents":i.value,events:j(L),"time-range":h.value,"onUpdate:selectedAgents":r[10]||(r[10]=_=>i.value=_)},null,8,["selected-agents","events","time-range"])])):I("",!0),e("div",tr,[te(js,{events:j(L),filters:t.value,"search-query":Q.value,"stick-to-bottom":p.value,"onUpdate:stickToBottom":r[11]||(r[11]=_=>p.value=_),"unique-app-names":o.value,"all-app-names":s.value,onSelectAgent:S,onSelectEvent:r[12]||(r[12]=_=>k.value=_)},null,8,["events","filters","search-query","stick-to-bottom","unique-app-names","all-app-names"]),e("div",sr,[te(zs,{"stick-to-bottom":p.value,onToggle:M},null,8,["stick-to-bottom"])])])]),e("div",or,[te(vn,{"selected-event":k.value},null,8,["selected-event"])])])):I("",!0),n.value==="deploy"?(u(),m("div",nr,[e("div",rr,[r[38]||(r[38]=e("h2",{class:"text-2xl font-bold mb-6 text-[var(--theme-text-primary)] flex items-center"},[e("span",{class:"mr-3 text-3xl"},"ðŸš€"),W(" Deploy New Session ")],-1)),e("div",ar,[e("div",lr,[e("div",ir,[r[30]||(r[30]=e("label",{class:"block text-sm font-semibold mb-3 text-[var(--theme-text-primary)]"}," 1. Select Workflow Template ",-1)),e("div",dr,[(u(!0),m(se,null,oe(G.value,_=>(u(),m("div",{key:_.id,onClick:B=>y.value=_.id,class:z(["cursor-pointer p-3 rounded-lg border text-left transition-all",y.value===_.id?"border-[var(--theme-primary)] bg-[var(--theme-bg-tertiary)] ring-1 ring-[var(--theme-primary)]":"border-[var(--theme-border-secondary)] hover:border-[var(--theme-border-primary)]"])},[e("div",ur,g(_.name),1),e("div",mr,g(_.description||"No description"),1)],10,cr))),128))])]),e("div",pr,[r[31]||(r[31]=e("label",{class:"block text-sm font-semibold mb-3 text-[var(--theme-text-primary)]"}," 2. Select Prime Council (Orchestrator) ",-1)),te(ze,{modelValue:R.value,"onUpdate:modelValue":r[13]||(r[13]=_=>R.value=_)},null,8,["modelValue"])]),e("div",gr,[r[34]||(r[34]=e("label",{class:"block text-sm font-semibold mb-3 text-[var(--theme-text-primary)]"}," 3. Runtime Configuration ",-1)),e("div",vr,[e("label",xr,[le(e("input",{type:"checkbox","onUpdate:modelValue":r[14]||(r[14]=_=>E.value=_),class:"checkbox checkbox-primary w-5 h-5 rounded border-gray-400"},null,512),[[Te,E.value]]),r[32]||(r[32]=e("div",null,[e("span",{class:"font-medium text-[var(--theme-text-primary)]"},"E2B Sandbox Environment"),e("p",{class:"text-xs text-[var(--theme-text-secondary)]"},"Run safely in a cloud container (Recommended)")],-1))]),e("label",hr,[le(e("input",{type:"checkbox","onUpdate:modelValue":r[15]||(r[15]=_=>P.value=_),class:"checkbox checkbox-secondary w-5 h-5 rounded border-gray-400"},null,512),[[Te,P.value]]),r[33]||(r[33]=e("div",null,[e("span",{class:"font-medium text-[var(--theme-text-primary)]"},"Context Injection (RAG)"),e("p",{class:"text-xs text-[var(--theme-text-secondary)]"},"Inject relevant files and docs into context")],-1))])])])]),e("div",br,[e("div",fr,[r[37]||(r[37]=e("label",{class:"block text-sm font-semibold mb-3 text-[var(--theme-text-primary)]"}," 4. Task Details ",-1)),e("div",yr,[r[35]||(r[35]=e("label",{class:"block text-xs font-medium text-[var(--theme-text-secondary)] mb-1"},"Session Name",-1)),le(e("input",{"onUpdate:modelValue":r[16]||(r[16]=_=>v.value=_),type:"text",placeholder:"e.g., 'Tetris Game Implementation'",class:"w-full px-4 py-2 rounded-lg bg-[var(--theme-bg-secondary)] border border-[var(--theme-border-secondary)] text-[var(--theme-text-primary)] focus:outline-none focus:border-[var(--theme-primary)]"},null,512),[[xe,v.value]])]),e("div",wr,[r[36]||(r[36]=e("label",{class:"block text-xs font-medium text-[var(--theme-text-secondary)] mb-1"},"Instruction / Prompt",-1)),le(e("textarea",{"onUpdate:modelValue":r[17]||(r[17]=_=>w.value=_),class:"flex-1 px-4 py-3 rounded-lg bg-[var(--theme-bg-secondary)] border border-[var(--theme-border-secondary)] text-[var(--theme-text-primary)] focus:outline-none focus:border-[var(--theme-primary)] font-mono text-sm leading-relaxed",placeholder:"Describe the objective for the Council..."},null,512),[[xe,w.value]])])]),e("div",kr,[N.value?(u(),m("div",_r,g(N.value),1)):I("",!0),e("button",{onClick:D,disabled:x.value||!q.value,class:"px-8 py-3 bg-[var(--theme-primary)] hover:bg-blue-600 text-white font-bold rounded-lg shadow-lg transform transition-all active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2"},[x.value?(u(),m("span",Tr,"â³")):(u(),m("span",Cr,"ðŸš€")),e("span",null,g(x.value?"Initializing Council...":"Launch Session"),1)],8,$r)])])])])])):I("",!0),n.value==="settings"?(u(),m("div",Sr,[e("div",Er,[r[39]||(r[39]=e("h2",{class:"text-2xl font-bold mb-6 text-[var(--theme-text-primary)] flex items-center"},[e("span",{class:"mr-3 text-3xl"},"âš™ï¸"),W(" Visualization Settings ")],-1)),te(Mn),r[40]||(r[40]=e("p",{class:"mt-6 text-sm text-[var(--theme-text-tertiary)]"}," These settings control which enhanced data indicators are displayed in the Monitor view. Changes are saved automatically and persist across sessions. ",-1))])])):I("",!0)])]))}});export{jr as default};
