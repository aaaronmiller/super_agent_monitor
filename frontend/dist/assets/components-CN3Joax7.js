import{G as g,r as l,c as w}from"./index-CLsOCDdy.js";import{a as c}from"./client-wxXmKtvP.js";const F=g("components",()=>{const m=l([]),r=l(!1),s=l(null),u=l(null),d=w(()=>{const t={agent:[],skill:[],hook:[],script:[],orchestrator:[]};return m.value.forEach(e=>{e.category&&t[e.category].push(e)}),t});async function i(t){var e,a,o;r.value=!0,s.value=null;try{const{data:n}=await c.get("/components",{params:t});return m.value=n.components,n.components}catch(n){throw s.value=((o=(a=(e=n.response)==null?void 0:e.data)==null?void 0:a.error)==null?void 0:o.message)||"Failed to fetch components",n}finally{r.value=!1}}async function p(){try{const{data:t}=await c.get("/components/stats");return u.value=t,t}catch(t){throw console.error("Failed to fetch stats:",t),t}}async function f(t){var e,a,o;try{const{data:n}=await c.get(`/components/${t}`);return n.component}catch(n){throw s.value=((o=(a=(e=n.response)==null?void 0:e.data)==null?void 0:a.error)==null?void 0:o.message)||"Failed to fetch component",n}}async function h(t){try{const{data:e}=await c.post("/components/recommendations",{selectedComponents:t});return e.recommendations}catch(e){throw console.error("Failed to get recommendations:",e),e}}async function y(){var t,e,a;r.value=!0;try{const{data:o}=await c.post("/components/scan");return await i(),await p(),o}catch(o){throw s.value=((a=(e=(t=o.response)==null?void 0:t.data)==null?void 0:e.error)==null?void 0:a.message)||"Failed to rescan components",o}finally{r.value=!1}}return{components:m,loading:r,error:s,stats:u,componentsByCategory:d,fetchComponents:i,fetchStats:p,getComponent:f,getRecommendations:h,rescan:y}});export{F as u};
